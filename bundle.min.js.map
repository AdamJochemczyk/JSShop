{"version":3,"sources":["webpack://jsshop/./src/shop.js"],"names":["productGallery","productCounter","wrapper","goToSummaryBtn","summary","leaveSummaryBtn","summaryFooter","productsToBuy","itemsInShop","name","price","getElements","document","querySelector","console","log","generateGalleryItem","item","index","html1","map","join","html2","innerHTML","generateSummaryItem","src","alt","amount","removeItem","e","itemNameToRemove","target","parentNode","innerText","filter","updateSummaryItems","updateRemoveButtons","removeButtons","Array","from","querySelectorAll","forEach","removeButton","addEventListener","getTotalCost","reduce","prev","addSummarySubmitAction","preventDefault","alert","generateSummaryFooter","addProductToBuy","productSrc","productName","productPrice","found","i","length","push","updateProductsCounter","updateAmountInItem","inputs","input","newAmount","parseInt","value","itemName","summaryItemsHTML","productToBuy","handleAddToShoppingCartClick","product","currentTarget","firstChild","products","actionSummary","classList","toggle","getSummaryButtons"],"mappings":"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","file":"bundle.min.js","sourcesContent":["let productGallery,\r\n  productCounter,\r\n  wrapper,\r\n  goToSummaryBtn,\r\n  summary,\r\n  leaveSummaryBtn,\r\n  summaryFooter,\r\n  productsToBuy = [];\r\n\r\nconst itemsInShop = [\r\n  {\r\n    name: \"Guyaki traditional\",\r\n    price: 2,\r\n  },\r\n  {\r\n    name: \"Mate green\",\r\n    price: 3,\r\n  },\r\n  {\r\n    name: \"Elaborada\",\r\n    price: 2.5,\r\n  },\r\n  {\r\n    name: \"YerbaKit\",\r\n    price: 10,\r\n  },\r\n  {\r\n    name: \"Rio negro\",\r\n    price: 7.5,\r\n  },\r\n  {\r\n    name: \"YerbaCan\",\r\n    price: 5,\r\n  },\r\n];\r\n\r\nfunction getElements() {\r\n  productGallery = document.querySelector(\".productGallery\");\r\n  productCounter = document.querySelector(\".client__cart span\");\r\n  goToSummaryBtn = document.querySelector(\".client__cart a\");\r\n  wrapper = document.querySelector(\"#wrapper\");\r\n  summary = document.querySelector(\".orderSummary\");\r\n  leaveSummaryBtn = document.querySelector(\"#close\");\r\n  summaryFooter = document.querySelector(\".summary\");\r\n  console.log(productGallery)\r\n}\r\n\r\ngetElements();\r\n\r\nfunction generateGalleryItem(item, index) {\r\n  const { name, price } = item;\r\n  return `\r\n            <div class=\"product\">\r\n             <p class=\"product__name\">${name}</p>\r\n             <div class=\"img__container\">\r\n            <img src=\"images/product${\r\n              index + 1\r\n            }.jpg\" alt=\"${name}\" class=\"product__img\">\r\n            </div>\r\n             <div class=\"product__params\">\r\n                <p class=\"product__price\"><span>${price}</span><span> $</span></p>\r\n                <a href=\"shop.html\" class=\"addToShoppingCart\">Add to cart</a>\r\n              </div>\r\n        </div>\r\n            `;\r\n}\r\n\r\nconst html1 = itemsInShop\r\n  .map((item, index) => generateGalleryItem(item, index))\r\n  .join(\"\");\r\nconst html2 = itemsInShop\r\n  .map((item, index) => generateGalleryItem(item, index))\r\n  .join(\"\");\r\nproductGallery.innerHTML = html1 + html2;\r\n\r\nfunction generateSummaryItem({ src, alt, amount, price }) {\r\n  return `\r\n<div class=\"toBuyProduct\">\r\n          <div class=\"toBuyProduct__left\">\r\n            <img src=\"${src}\" alt=\"${alt}\">\r\n          </div>\r\n          <div class=\"toBuyProduct__right\">\r\n            <h1>${alt}</h1>\r\n            Amount: <input class=\"toBuyProduct__amount\" type='number' value='${amount}' min='1'>\r\n            <button type=\"button\" class=\"toBuyProduct__remove\">Remove</button>\r\n            <span class=\"cost\">Total: ${amount * price} $</span>\r\n          </div>\r\n          </div>\r\n          <hr />\r\n        `;\r\n}\r\nfunction removeItem(e) {\r\n  const itemNameToRemove = e.target.parentNode.querySelector(\"h1\").innerText;\r\n  productsToBuy = productsToBuy.filter(({ alt }) => alt !== itemNameToRemove);\r\n  updateSummaryItems();\r\n}\r\n\r\nfunction updateRemoveButtons() {\r\n  const removeButtons = Array.from(\r\n    document.querySelectorAll(\".toBuyProduct__remove\")\r\n  );\r\n  removeButtons.forEach((removeButton) => {\r\n    removeButton.addEventListener(\"click\", removeItem);\r\n  });\r\n}\r\n\r\nfunction getTotalCost() {\r\n  return productsToBuy.reduce((prev, { price, amount }) => {\r\n    return prev + price * amount;\r\n  }, 0);\r\n}\r\n\r\nfunction addSummarySubmitAction() {\r\n  document\r\n    .querySelector(\".summary__submit\")\r\n    .addEventListener(\"click\", function (e) {\r\n      e.preventDefault();\r\n      alert(\"Thanks for checking my shop demo\");\r\n    });\r\n}\r\n\r\nfunction generateSummaryFooter() {\r\n  summaryFooter.innerHTML = `\r\n        <span>Total cost: ${getTotalCost()} $</span><a href=\"\" class=\"summary__submit\">Submit order</a>\r\n        `;\r\n  addSummarySubmitAction();\r\n}\r\n\r\nfunction addProductToBuy(productSrc, productName, productPrice) {\r\n  let found = false;\r\n  for (let i = 0; i < productsToBuy.length; i++) {\r\n    if (productsToBuy[i].alt == productName) {\r\n      productsToBuy[i].amount++;\r\n      found = true;\r\n      break;\r\n    }\r\n  }\r\n  if (!found) {\r\n    productsToBuy.push({\r\n      src: productSrc,\r\n      alt: productName,\r\n      price: productPrice,\r\n      amount: 1,\r\n    });\r\n  }\r\n}\r\n\r\nfunction updateProductsCounter() {\r\n  productCounter.innerHTML = productsToBuy.reduce(\r\n    (prev, { amount }) => prev + amount,\r\n    0\r\n  );\r\n}\r\n\r\nfunction updateAmountInItem() {\r\n  const inputs = Array.from(document.querySelectorAll(\".toBuyProduct__amount\"));\r\n  inputs.forEach((input) => {\r\n    input.addEventListener(\"change\", (e) => {\r\n      let newAmount = parseInt(e.target.value);\r\n      if (newAmount < 1) {\r\n        newAmount = 1;\r\n      }\r\n      const itemName = e.target.parentNode.querySelector(\"h1\").innerText;\r\n      for (let i = 0; i < productsToBuy.length; i++) {\r\n        if (productsToBuy[i].alt === itemName) {\r\n          productsToBuy[i].amount = newAmount;\r\n        }\r\n      }\r\n      updateSummaryItems();\r\n    });\r\n  });\r\n}\r\nfunction updateSummaryItems() {\r\n  const summaryItemsHTML = productsToBuy\r\n    .map((productToBuy) => generateSummaryItem(productToBuy))\r\n    .join(\"\");\r\n  document.querySelector(\".product-in-summary\").innerHTML = summaryItemsHTML;\r\n  updateRemoveButtons();\r\n  generateSummaryFooter();\r\n  updateProductsCounter();\r\n  updateAmountInItem();\r\n}\r\n\r\nfunction handleAddToShoppingCartClick(e) {\r\n  e.preventDefault();\r\n  const product = e.currentTarget.parentNode.parentNode.querySelector(\"img\");\r\n  const productSrc = product.src;\r\n  const productName = product.alt;\r\n  const productPrice = parseInt(\r\n    e.currentTarget.parentNode.parentNode.querySelector(\".product__price\")\r\n      .firstChild.innerHTML\r\n  );\r\n\r\n  addProductToBuy(productSrc, productName, productPrice);\r\n  updateProductsCounter();\r\n  updateSummaryItems();\r\n}\r\n\r\nconst products = document.querySelectorAll(\"a.addToShoppingCart\");\r\nproducts.forEach((product) =>\r\n  product.addEventListener(\"click\", handleAddToShoppingCartClick)\r\n);\r\n\r\nfunction actionSummary(e) {\r\n  e.preventDefault();\r\n  wrapper.classList.toggle(\"wrapper\");\r\n  summary.classList.toggle(\"openSummary\");\r\n}\r\n\r\nfunction getSummaryButtons() {\r\n  goToSummaryBtn.addEventListener(\"click\", actionSummary);\r\n  leaveSummaryBtn.addEventListener(\"click\", actionSummary);\r\n}\r\n\r\ngetSummaryButtons();\r\n\r\n//export { generateGalleryItem };\r\n"],"sourceRoot":""}